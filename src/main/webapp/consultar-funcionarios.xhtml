<!DOCTYPE html>
<html
	lang="en"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
</h:head>

<h:body>

	<ui:composition template="/app-template.xhtml">

		<ui:param
			name="header"
			value="Consultar funcionários" />

		<ui:define name="metadata">
			<f:metadata>
			</f:metadata>
		</ui:define>

		<ui:define name="content">

			<h:form id="form">
				<h:panelGroup id="formGroup">
					<p:growl
						id="growl"
						showDetail="true" />
					<p:panelGrid columns="2">

						<p:outputLabel
							value="Nome do Funcionário:"
							for="nomeFuncionario" />
						<p:inputText
							id="nomeFuncionario"
							value="#{consultarFuncionariosController.funcionario.nome}" />
							
						<p:outputLabel
							value="Email:"
							for="EmailFuncionario" />
						<p:inputText
							id="EmailFuncionario"
							value="#{consultarFuncionariosController.funcionario.email}" />
							
						<p:outputLabel
							value="Empresa:"
							for="nomeEmpresa" />
						<p:inputText
							id="nomeEmpresa"
							value="#{consultarEmpresasController.empresa.nome}" />

						<p:outputLabel
							value="Data de Inicio >= que:"
							for="dataFuncionario" />
						<p:inputText
							id="dataFuncionario"
							value="#{consultarFuncionariosController.funcionario.dataInicioTrabalho}" />

					</p:panelGrid>
				</h:panelGroup>

				<p:spacer height="4" />

				<p:commandButton
					action="#{consultarFuncionariosController.consultar}"
					process="@form"
					value="Pesquisar"
					update="tableFuncionariosGroup growl" />

				<p:spacer height="4" />

				<h:panelGroup id="tableFuncionariosGroup">
					<p:dataTable
						value="#{consultarFuncionariosController.funcionarios}"
						var="empresa">
						<p:column headerText="#">
						#{funcionario.id}
					</p:column>

						<p:column headerText="Nome">
						#{funcionario.nome}
					</p:column>
					
					<p:column headerText="Email">
						#{funcionario.email}
					</p:column>
					
					<p:column headerText="Data">
						#{funcionario.dataInicioTrabalho}
					</p:column>
					
					</p:dataTable>
				</h:panelGroup>
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>
